(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n){var o=e.querySelector(".card").cloneNode(!0),r=o.querySelector(".card__image"),i=o.querySelector(".card__title"),c=o.querySelector(".card__delete-button");return r.src=t.link,r.alt=t.name,i.textContent=t.name,r.addEventListener("click",(function(){n(t)})),c.addEventListener("click",(function(e){!function(e){e.target.closest(".card").remove()}(e)})),o.addEventListener("click",(function(e){!function(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}(e)})),o}function n(e){e.classList.add("popup_is-opened","popup_is-animated"),document.addEventListener("keydown",r),e.addEventListener("click",i)}function o(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r),e.removeEventListener("click",i)}function r(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&o(t)}}function i(e){e.target===e.currentTarget&&o(e.currentTarget)}var c=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove("popup_submit_inactive")):(t.disabled=!0,t.classList.add("popup_submit_inactive"))},a=document.querySelector(".content").querySelector(".places__list"),u=document.querySelector(".popup_type_image"),l=u.querySelector(".popup__image"),s=u.querySelector(".popup__caption"),p=document.querySelector(".popup_type_edit"),d=document.querySelector(".popup_type_new-card"),f=document.querySelector(".profile__edit-button"),m=document.querySelector(".profile__add-button"),_=document.querySelectorAll(".popup__close"),v=document.forms["new-place"],x=v.elements["place-name"],y=v.elements.link,b=document.querySelector(".profile__title"),q=document.querySelector(".profile__description"),w=document.forms["edit-profile"],D=w.elements.name,h=w.elements.description;function k(e){l.src=e.link,l.alt=e.name,s.textContent=e.name,n(u)}f.addEventListener("click",(function(){D.value=b.textContent,h.value=q.textContent,n(p)})),m.addEventListener("click",(function(){n(d),v.reset()})),_.forEach((function(e){e.addEventListener("click",(function(){o(e.closest(".popup"))}))})),v.addEventListener("submit",(function(e){e.preventDefault();var n=t({name:x.value,link:y.value},k);a.prepend(n),v.reset(),o(d)})),w.addEventListener("submit",(function(e){e.preventDefault(),b.textContent=D.value,q.textContent=h.value,o(p)})),[{name:"Пакистан",link:"https://images.unsplash.com/photo-1514558427911-8e293bebf18c?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Индия",link:"https://images.unsplash.com/photo-1561359313-0639aad49ca6?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Бразилия",link:"https://images.unsplash.com/photo-1516306580123-e6e52b1b7b5f?q=80&w=2126&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Чили",link:"https://images.unsplash.com/photo-1478827387698-1527781a4887?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Новая Зеландия",link:"https://images.unsplash.com/photo-1597655601841-214a4cfe8b2c?q=80&w=1978&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Исландия",link:"https://images.unsplash.com/photo-1735606583158-722c9c210810?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){var n=t(e,k);a.append(n)})),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button");c(t,n),t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__input_type_error"),n.classList.remove("form__input-error_active"),n.textContent=""}(e,t):function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__input_type_error"),o.textContent=n,o.classList.add("form__input-error_active")}(e,t,t.validationMessage)}(e,o),c(t,n)}))}))}(e)}))})();